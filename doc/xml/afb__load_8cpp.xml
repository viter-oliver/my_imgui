<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.9">
  <compounddef id="afb__load_8cpp" kind="file" language="C++">
    <compoundname>afb_load.cpp</compoundname>
    <includes refid="afb__load_8h" local="yes">afb_load.h</includes>
    <includes local="no">msgpack.hpp</includes>
    <includes refid="factory_8h" local="yes">factory.h</includes>
    <includes refid="res__output_8h" local="yes">res_output.h</includes>
    <includes local="no">fstream</includes>
    <includes local="yes">imgui.h</includes>
    <includes local="no">GL/gl3w.h</includes>
    <includes refid="af__shader_8h" local="yes">af_shader.h</includes>
    <includes refid="material_8h" local="yes">material.h</includes>
    <incdepgraph>
      <node id="55">
        <label>glm/gtx/norm.hpp</label>
      </node>
      <node id="46">
        <label>functional</label>
      </node>
      <node id="59">
        <label>json/json.h</label>
      </node>
      <node id="38">
        <label>imgui_internal.h</label>
      </node>
      <node id="51">
        <label>af_shader.h</label>
        <link refid="af__shader_8h"/>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="60">
        <label>stdexcept</label>
      </node>
      <node id="34">
        <label>G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/afb_load.cpp</label>
        <link refid="afb_load.cpp"/>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
      </node>
      <node id="40">
        <label>string</label>
      </node>
      <node id="45">
        <label>map</label>
      </node>
      <node id="58">
        <label>shader_uf.h</label>
        <link refid="shader__uf_8h"/>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="54">
        <label>gtc/type_ptr.hpp</label>
      </node>
      <node id="49">
        <label>fstream</label>
      </node>
      <node id="41">
        <label>json.h</label>
      </node>
      <node id="53">
        <label>gtc/matrix_transform.hpp</label>
      </node>
      <node id="56">
        <label>fab.h</label>
      </node>
      <node id="39">
        <label>vector</label>
      </node>
      <node id="35">
        <label>afb_load.h</label>
        <link refid="afb__load_8h"/>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="36">
        <label>control_common_def.h</label>
        <link refid="control__common__def_8h"/>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
      </node>
      <node id="44">
        <label>factory.h</label>
        <link refid="factory_8h"/>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="43">
        <label>msgpack.hpp</label>
      </node>
      <node id="52">
        <label>glm.hpp</label>
      </node>
      <node id="37">
        <label>imgui.h</label>
      </node>
      <node id="50">
        <label>GL/gl3w.h</label>
      </node>
      <node id="42">
        <label>algorithm</label>
      </node>
      <node id="57">
        <label>material.h</label>
        <link refid="material_8h"/>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
      </node>
      <node id="47">
        <label>memory</label>
      </node>
      <node id="48">
        <label>res_output.h</label>
        <link refid="res__output_8h"/>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="afb__load_8cpp_1a464695366cb3e9683ab9cd7091409f68" prot="public" static="no">
        <name>REGISTER_CONTROL</name>
        <param><defname>T</defname></param>
        <param><defname>...</defname></param>
        <initializer><ref refid="factory_8h_1accb1802b2aa3d253c2585aa0f4ba473b" kindref="member">REGISTER_CONTROL_BYKEY</ref>(T,#T,##__VA_ARGS__)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/afb_load.cpp" line="3" column="9" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/factory.h" bodystart="75" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="afb__load_8cpp_1a7299469a1b56dc074ed84b6c888e01ad" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void init_ui_component_by_mgo</definition>
        <argsstring>(base_ui_component *&amp;ptar, msgpack::v2::object &amp;obj)</argsstring>
        <name>init_ui_component_by_mgo</name>
        <param>
          <type><ref refid="classbase__ui__component" kindref="compound">base_ui_component</ref> *&amp;</type>
          <declname>ptar</declname>
        </param>
        <param>
          <type>msgpack::v2::object &amp;</type>
          <declname>obj</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/afb_load.cpp" line="14" column="1" bodyfile="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/afb_load.cpp" bodystart="14" bodyend="45"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="afb__load_8h" kindref="compound">afb_load.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;msgpack.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="factory_8h" kindref="compound">factory.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="res__output_8h" kindref="compound">res_output.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;fstream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;imgui.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(IMGUI_WAYLAND)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;GL/gl3w.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include&quot;../../deps/glad/glad.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="af__shader_8h" kindref="compound">af_shader.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="material_8h" kindref="compound">material.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="afb__load_8cpp_1a7299469a1b56dc074ed84b6c888e01ad" kindref="member">init_ui_component_by_mgo</ref>(<ref refid="classbase__ui__component" kindref="compound">base_ui_component</ref>*&amp;ptar,<sp/>msgpack::v2::object&amp;<sp/>obj)</highlight></codeline>
<codeline lineno="15"><highlight class="normal">{</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>obj_arr_sz<sp/>=<sp/>obj.via.array.size;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>obj_typename<sp/>=<sp/>obj.via.array.ptr[0];</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>obj_tp_nmlen<sp/>=<sp/>obj_typename.via.str.size;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>str_type_name<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[obj_tp_nmlen<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(str_type_name,<sp/>0,<sp/>obj_tp_nmlen<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(str_type_name,<sp/>obj_typename.via.str.ptr,<sp/>obj_tp_nmlen);</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/>ptar<sp/>=<sp/><ref refid="structfactory_1ac6af064c46767497e3d079c0c0904c2a" kindref="member">factory::get</ref>().<ref refid="structfactory_1ad4fc5cb957afccf416871694d991e809" kindref="member">produce</ref>(str_type_name);</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>str_type_name;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="control__common__def_8h_1a2829b10b78675304660841f0fb2135d4" kindref="member">vproperty_list</ref><sp/>vplist;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mlen=ptar-&gt;<ref refid="classbase__ui__component_1a06d0db12e47a5e27c00c59918d90685b" kindref="member">collect_property_range</ref>(vplist);</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>mem_obj=obj.via.array.ptr[1];</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t*<sp/>pmem<sp/>=<sp/></highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal">uint8_t*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(</highlight><highlight class="keyword">reinterpret_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="normal">uint8_t*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(mem_obj.via.bin.ptr));</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>munit<sp/>:<sp/>vplist)</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(munit._p_head_address,<sp/>pmem,<sp/>munit._len);</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pmem<sp/>+=<sp/>munit._len;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(obj_arr_sz&gt;2)</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>childs_obj<sp/>=<sp/>obj.via.array.ptr[2];</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>cd_sz<sp/>=<sp/>childs_obj.via.array.size;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>ix<sp/>=<sp/>0;<sp/>ix<sp/>&lt;<sp/>cd_sz;<sp/>ix++)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>cd_obj<sp/>=<sp/>childs_obj.via.array.ptr[ix];</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classbase__ui__component" kindref="compound">base_ui_component</ref>*<sp/>pchild;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="afb__load_8cpp_1a7299469a1b56dc074ed84b6c888e01ad" kindref="member">init_ui_component_by_mgo</ref>(pchild,<sp/>cd_obj);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ptar-&gt;<ref refid="classbase__ui__component_1a0ed950da68a94238cfef7483cf0d3f20" kindref="member">add_child</ref>(pchild);</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="45"><highlight class="normal">}</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classafb__load_1a70dd9dcdf7bb9160f90d92376048b6a3" kindref="member">afb_load::load_afb</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>afb_file)</highlight></codeline>
<codeline lineno="48"><highlight class="normal">{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>ifstream<sp/>fin;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>fin.open(afb_file,<sp/>ios::binary<sp/>);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fin.is_open())</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;invalid<sp/>afb<sp/>file:%s\n&quot;</highlight><highlight class="normal">,<sp/>afb_file);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>file_size=fin.tellg();</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>fin.seekg(0,<sp/>ios::end);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>file_size<sp/>=<sp/>fin.tellg()<sp/>-<sp/>file_size;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>fin.seekg(0,<sp/>ios::beg);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>msgpack::unpacker<sp/>unpac;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>unpac.reserve_buffer(file_size);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>fin.read(unpac.buffer(),<sp/>unpac.buffer_capacity());</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>unpac.buffer_consumed(static_cast&lt;size_t&gt;(fin.gcount()));</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>msgpack::object_handle<sp/>oh;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>unpac.next(oh);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>obj_w<sp/>=<sp/>oh.get();</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classbase__ui__component_1a1027bcda32d3f479b6d14c0cbbcc184b" kindref="member">base_ui_component::screenw</ref><sp/>=<sp/>obj_w.via.array.ptr[0].as&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;();</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classbase__ui__component_1aca508bf254f0b9c55d29c68c8249e2d3" kindref="member">base_ui_component::screenh</ref><sp/>=<sp/>obj_w.via.array.ptr[1].as&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;();</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>obj_res<sp/>=<sp/>obj_w.via.array.ptr[2];</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>re_cnt<sp/>=<sp/>obj_res.via.array.size;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>ix<sp/>=<sp/>0;<sp/>ix<sp/>&lt;<sp/>re_cnt;<sp/>ix++)</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="res__output_8cpp_1a7dfb9d14c70eaac507d4bf4cae7e7360" kindref="member">g_vres_texture_list</ref>.emplace_back(<ref refid="structres__texture__list" kindref="compound">res_texture_list</ref>());</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>cur_pos<sp/>=<sp/><ref refid="res__output_8cpp_1a7dfb9d14c70eaac507d4bf4cae7e7360" kindref="member">g_vres_texture_list</ref>.size()<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structres__texture__list" kindref="compound">res_texture_list</ref>&amp;<sp/>res_unit<sp/>=<sp/><ref refid="res__output_8cpp_1a7dfb9d14c70eaac507d4bf4cae7e7360" kindref="member">g_vres_texture_list</ref>[cur_pos];</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glGenTextures(1,<sp/>&amp;res_unit.<ref refid="structres__texture__list_1a4e9a381c0fe74cb6968f5f88e034f375" kindref="member">texture_id</ref>);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glBindTexture(GL_TEXTURE_2D,<sp/>res_unit.<ref refid="structres__texture__list_1a4e9a381c0fe74cb6968f5f88e034f375" kindref="member">texture_id</ref>);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glEnable(GL_BLEND);</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glBlendFunc(GL_SRC_ALPHA,<sp/>GL_ONE_MINUS_SRC_ALPHA);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glTexParameteri(GL_TEXTURE_2D,<sp/>GL_TEXTURE_WRAP_S,<sp/>GL_CLAMP_TO_EDGE);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glTexParameteri(GL_TEXTURE_2D,<sp/>GL_TEXTURE_WRAP_T,<sp/>GL_CLAMP_TO_EDGE);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Step3<sp/>设定filter参数 <sp/><sp/><sp/><sp/><sp/><sp/><sp/>glTexParameteri(GL_TEXTURE_2D,<sp/>GL_TEXTURE_MAG_FILTER,<sp/>GL_LINEAR);
<sp/><sp/><sp/><sp/><sp/><sp/>glTexParameteri(GL_TEXTURE_2D,<sp/>GL_TEXTURE_MIN_FILTER,<sp/>GL_LINEAR_MIPMAP_LINEAR);

<sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>bin_res_unit<sp/>=<sp/>obj_res.via.array.ptr[ix];
<sp/><sp/><sp/><sp/><sp/>res_unit.texture_width<sp/>=<sp/>bin_res_unit.via.array.ptr[0].as&lt;int&gt;();
<sp/><sp/><sp/><sp/><sp/><sp/>res_unit.texture_height<sp/>=<sp/>bin_res_unit.via.array.ptr[1].as&lt;int&gt;();
<sp/><sp/><sp/><sp/><sp/>auto<sp/>res_bin<sp/>=<sp/>bin_res_unit.via.array.ptr[2];
<sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>bin_sz<sp/>=<sp/>res_bin.via.bin.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glTexImage2D(GL_TEXTURE_2D,<sp/>0,<sp/>GL_RGBA,<sp/>res_unit.texture_width,<sp/>res_unit.texture_height,
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/>GL_RGBA,<sp/>GL_UNSIGNED_BYTE,<sp/>res_bin.via.bin.ptr);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glGenerateMipmap(GL_TEXTURE_2D);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>glBindTexture(GL_TEXTURE_2D,<sp/>0);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>res_data<sp/>=<sp/>bin_res_unit.via.array.ptr[3];
<sp/><sp/><sp/><sp/><sp/>auto<sp/>res_data_sz<sp/>=<sp/>res_data.via.array.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>(size_t<sp/>iy<sp/>=<sp/>0;<sp/>iy<sp/>&lt;<sp/>res_data_sz;<sp/>iy++)
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res_unit.vtexture_coordinates.emplace_back(res_texture_coordinate());
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int<sp/>curpos<sp/>=<sp/>res_unit.vtexture_coordinates.size()<sp/>-<sp/>1;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res_texture_coordinate&amp;<sp/>cd_unit<sp/>=<sp/>res_unit.vtexture_coordinates[curpos];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>bin_cd_unit<sp/>=<sp/>res_data.via.array.ptr[iy];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>bin_filen<sp/>=<sp/>bin_cd_unit.via.array.ptr[0];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit._file_name.reserve(bin_filen.via.str.size+1);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit._file_name.resize(bin_filen.via.str.size+1);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(&amp;cd_unit._file_name[0],<sp/>bin_filen.via.str.ptr,<sp/>bin_filen.via.str.size);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit._x0<sp/>=<sp/>bin_cd_unit.via.array.ptr[1].as&lt;float&gt;();
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit._x1<sp/>=<sp/>bin_cd_unit.via.array.ptr[2].as&lt;float&gt;();
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit._y0<sp/>=<sp/>bin_cd_unit.via.array.ptr[3].as&lt;float&gt;();
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit._y1<sp/>=<sp/>bin_cd_unit.via.array.ptr[4].as&lt;float&gt;();
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}

<sp/>}
<sp/><sp/>auto<sp/>obj_shader_list<sp/>=<sp/>obj_w.via.array.ptr[3];
<sp/>auto<sp/>shd_cnt<sp/>=<sp/>obj_shader_list.via.array.size;
<sp/>for<sp/>(size_t<sp/>ix<sp/>=<sp/>0;<sp/>ix<sp/>&lt;<sp/>shd_cnt;<sp/>ix++)
<sp/><sp/><sp/><sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_unit<sp/>=<sp/>obj_shader_list.via.array.ptr[ix];
<sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_name<sp/>=<sp/>shd_unit.via.array.ptr[0];
<sp/><sp/><sp/><sp/><sp/>auto<sp/>str_shd_nm_sz<sp/>=<sp/>shd_name.via.str.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char*<sp/>pshd_name<sp/>=<sp/>new<sp/>char[str_shd_nm_sz<sp/>+<sp/>1];
<sp/><sp/><sp/><sp/><sp/>memset(pshd_name,<sp/>0,<sp/>str_shd_nm_sz<sp/>+<sp/>1);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pshd_name,<sp/>shd_name.via.str.ptr,<sp/>str_shd_nm_sz);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_vs_code<sp/>=<sp/>shd_unit.via.array.ptr[1];
<sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>str_vs_code_sz<sp/>=<sp/>shd_vs_code.via.str.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char*<sp/>psd_vs_code<sp/>=<sp/>new<sp/>char[str_vs_code_sz<sp/>+<sp/>1];
<sp/><sp/><sp/><sp/><sp/><sp/>memset(psd_vs_code,<sp/>0,<sp/>str_vs_code_sz<sp/>+<sp/>1);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(psd_vs_code,<sp/>shd_vs_code.via.str.ptr,<sp/>str_vs_code_sz);
<sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_fs_code<sp/>=<sp/>shd_unit.via.array.ptr[2];
<sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>str_fs_code_sz<sp/>=<sp/>shd_fs_code.via.str.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char*<sp/>psd_fs_code<sp/>=<sp/>new<sp/>char[str_fs_code_sz<sp/>+<sp/>1];
<sp/><sp/><sp/><sp/><sp/><sp/>memset(psd_fs_code,<sp/>0,<sp/>str_fs_code_sz<sp/>+<sp/>1);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(psd_fs_code,<sp/>shd_fs_code.via.str.ptr,<sp/>str_fs_code_sz);
<sp/><sp/><sp/><sp/><sp/><sp/>g_af_shader_list[pshd_name]<sp/>=<sp/>make_shared&lt;af_shader&gt;(psd_vs_code,<sp/>psd_fs_code);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete[]<sp/>pshd_name;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete[]<sp/>psd_vs_code;
<sp/><sp/><sp/><sp/><sp/><sp/>delete[]<sp/>psd_fs_code;
<sp/><sp/>}
<sp/><sp/>auto<sp/>obj_material_list<sp/>=<sp/>obj_w.via.array.ptr[4];
<sp/><sp/><sp/>auto<sp/>mtl_cnt<sp/>=<sp/>obj_material_list.via.array.size;
<sp/><sp/><sp/>for<sp/>(size_t<sp/>ix<sp/>=<sp/>0;<sp/>ix<sp/>&lt;<sp/>mtl_cnt;<sp/>ix++)
<sp/><sp/><sp/><sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>mtl_unit<sp/>=<sp/>obj_material_list.via.array.ptr[ix];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>mtl_name<sp/>=<sp/>mtl_unit.via.array.ptr[0];
<sp/><sp/><sp/><sp/><sp/>auto<sp/>mtl_name_size<sp/>=<sp/>mtl_name.via.str.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char*<sp/>pstr_mtl_name<sp/>=<sp/>new<sp/>char[mtl_name_size<sp/>+<sp/>1];
<sp/><sp/><sp/><sp/><sp/>memset(pstr_mtl_name,<sp/>0,<sp/>mtl_name_size<sp/>+<sp/>1);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pstr_mtl_name,<sp/>mtl_name.via.str.ptr,<sp/>mtl_name_size);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shared_ptr&lt;material&gt;<sp/>pmtl<sp/>=<sp/>make_shared&lt;material&gt;();
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>g_material_list[pstr_mtl_name]<sp/>=<sp/>pmtl;
<sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_name<sp/>=<sp/>mtl_unit.via.array.ptr[1];
<sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_name_size<sp/>=<sp/>shd_name.via.str.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char*<sp/>pstr_shd_name<sp/>=<sp/>new<sp/>char[shd_name_size<sp/>+<sp/>1];
<sp/><sp/><sp/><sp/><sp/>memset(pstr_shd_name,<sp/>0,<sp/>shd_name_size+1);
<sp/><sp/><sp/><sp/><sp/>memcpy(pstr_shd_name,<sp/>shd_name.via.str.ptr,<sp/>shd_name_size);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>pshd<sp/>=<sp/>g_af_shader_list.find(pstr_shd_name);
<sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(pshd<sp/>!=<sp/>g_af_shader_list.end())
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pmtl-&gt;set_pshader(pshd-&gt;second);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/><sp/><sp/>auto&amp;<sp/>mpshd_uf<sp/>=<sp/>pmtl-&gt;get_mp_sd_uf();
<sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_list<sp/>=<sp/>mtl_unit.via.array.ptr[2];
<sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_list_cnt<sp/>=<sp/>shd_uf_list.via.array.size;
<sp/><sp/><sp/><sp/><sp/>for<sp/>(size_t<sp/>iy<sp/>=<sp/>0;<sp/>iy<sp/>&lt;<sp/>shd_uf_list_cnt;<sp/>iy++)
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_unit<sp/>=<sp/>shd_uf_list.via.array.ptr[iy];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_name<sp/>=<sp/>shd_uf_unit.via.array.ptr[0];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_name_sz<sp/>=<sp/>shd_uf_name.via.str.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char*<sp/>pshd_uf_name<sp/>=<sp/>new<sp/>char[shd_uf_name_sz<sp/>+<sp/>1];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(pshd_uf_name,<sp/>0,<sp/>shd_uf_name_sz<sp/>+<sp/>1);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pshd_uf_name,<sp/>shd_uf_name.via.str.ptr,<sp/>shd_uf_name_sz);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_type=shd_uf_unit.via.array.ptr[1];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_type_sz<sp/>=<sp/>shd_uf_type.via.str.size;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>char*<sp/>pshd_uf_type<sp/>=<sp/>new<sp/>char[shd_uf_type_sz<sp/>+<sp/>1];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(pshd_uf_type,<sp/>0,<sp/>shd_uf_type_sz<sp/>+<sp/>1);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pshd_uf_type,<sp/>shd_uf_type.via.str.ptr,<sp/>shd_uf_type_sz);

<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_usize=shd_uf_unit.via.array.ptr[2];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_el_size=shd_uf_unit.via.array.ptr[3];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_uf_utype=shd_uf_unit.via.array.ptr[4];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shared_ptr&lt;shader_uf&gt;<sp/>pnunf<sp/>=<sp/>std::move(get_shader_uf_fc().Create(pshd_uf_type,<sp/>shd_uf_usize.as&lt;GLuint&gt;(),<sp/>shd_uf_el_size.as&lt;GLuint&gt;()));
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnunf-&gt;set_type(shd_uf_utype.as&lt;GLenum&gt;());
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>shd_data<sp/>=<sp/>shd_uf_unit.via.array.ptr[5];
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto<sp/>wsize<sp/>=<sp/>shd_uf_usize.as&lt;GLuint&gt;()*shd_uf_el_size.as&lt;GLuint&gt;();
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pnunf-&gt;get_data_head(),<sp/>shd_data.via.bin.ptr,wsize);
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mpshd_uf[pshd_uf_name]<sp/>=<sp/>pnunf;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete[]<sp/>pshd_uf_name;
<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete[]<sp/>pshd_uf_type;
<sp/><sp/><sp/><sp/><sp/>}
<sp/><sp/><sp/><sp/><sp/><sp/>delete[]<sp/>pstr_mtl_name;
<sp/><sp/><sp/><sp/>}
<sp/><sp/>auto<sp/>obj_ui<sp/>=<sp/>obj_w.via.array.ptr[5];
<sp/><sp/>init_ui_component_by_mgo(_pj,<sp/>obj_ui);
}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glTexParameteri(GL_TEXTURE_2D,<sp/>GL_TEXTURE_MAG_FILTER,<sp/>GL_LINEAR);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glTexParameteri(GL_TEXTURE_2D,<sp/>GL_TEXTURE_MIN_FILTER,<sp/>GL_LINEAR_MIPMAP_LINEAR);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>bin_res_unit<sp/>=<sp/>obj_res.via.array.ptr[ix];</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res_unit.<ref refid="structres__texture__list_1af2cd36ca0a23d793e61bc1a440202d0e" kindref="member">texture_width</ref><sp/>=<sp/>bin_res_unit.via.array.ptr[0].as&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&gt;();</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res_unit.<ref refid="structres__texture__list_1aef0df35e456a54dd4676d1d901fdd2f5" kindref="member">texture_height</ref><sp/>=<sp/>bin_res_unit.via.array.ptr[1].as&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">&gt;();</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>res_bin<sp/>=<sp/>bin_res_unit.via.array.ptr[2];</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>bin_sz<sp/>=<sp/>res_bin.via.bin.size;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glTexImage2D(GL_TEXTURE_2D,<sp/>0,<sp/>GL_RGBA,<sp/>res_unit.<ref refid="structres__texture__list_1af2cd36ca0a23d793e61bc1a440202d0e" kindref="member">texture_width</ref>,<sp/>res_unit.<ref refid="structres__texture__list_1aef0df35e456a54dd4676d1d901fdd2f5" kindref="member">texture_height</ref>,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/>GL_RGBA,<sp/>GL_UNSIGNED_BYTE,<sp/>res_bin.via.bin.ptr);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glGenerateMipmap(GL_TEXTURE_2D);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>glBindTexture(GL_TEXTURE_2D,<sp/>0);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>res_data<sp/>=<sp/>bin_res_unit.via.array.ptr[3];</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>res_data_sz<sp/>=<sp/>res_data.via.array.size;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>iy<sp/>=<sp/>0;<sp/>iy<sp/>&lt;<sp/>res_data_sz;<sp/>iy++)</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res_unit.<ref refid="structres__texture__list_1a45b8ee6e9f1cf326c610b7a1dff5dbea" kindref="member">vtexture_coordinates</ref>.emplace_back(<ref refid="structres__texture__coordinate" kindref="compound">res_texture_coordinate</ref>());</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>curpos<sp/>=<sp/>res_unit.<ref refid="structres__texture__list_1a45b8ee6e9f1cf326c610b7a1dff5dbea" kindref="member">vtexture_coordinates</ref>.size()<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structres__texture__coordinate" kindref="compound">res_texture_coordinate</ref>&amp;<sp/>cd_unit<sp/>=<sp/>res_unit.<ref refid="structres__texture__list_1a45b8ee6e9f1cf326c610b7a1dff5dbea" kindref="member">vtexture_coordinates</ref>[curpos];</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>bin_cd_unit<sp/>=<sp/>res_data.via.array.ptr[iy];</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>bin_filen<sp/>=<sp/>bin_cd_unit.via.array.ptr[0];</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit.<ref refid="structres__texture__coordinate_1ac8e26b48a9b9684a17f500ccce610c93" kindref="member">_file_name</ref>.reserve(bin_filen.via.str.size+1);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit.<ref refid="structres__texture__coordinate_1ac8e26b48a9b9684a17f500ccce610c93" kindref="member">_file_name</ref>.resize(bin_filen.via.str.size+1);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(&amp;cd_unit.<ref refid="structres__texture__coordinate_1ac8e26b48a9b9684a17f500ccce610c93" kindref="member">_file_name</ref>[0],<sp/>bin_filen.via.str.ptr,<sp/>bin_filen.via.str.size);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit.<ref refid="structres__texture__coordinate_1a67b883e393a58533083ba5a5d0507ed3" kindref="member">_x0</ref><sp/>=<sp/>bin_cd_unit.via.array.ptr[1].as&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;();</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit.<ref refid="structres__texture__coordinate_1a63321c72f78537e44c42c8698796261a" kindref="member">_x1</ref><sp/>=<sp/>bin_cd_unit.via.array.ptr[2].as&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;();</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit.<ref refid="structres__texture__coordinate_1a2f6571a6ea8ed79f71f2928feb0cd5ee" kindref="member">_y0</ref><sp/>=<sp/>bin_cd_unit.via.array.ptr[3].as&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;();</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cd_unit.<ref refid="structres__texture__coordinate_1a7cf821ebb66d08a9db85b88b55f5120b" kindref="member">_y1</ref><sp/>=<sp/>bin_cd_unit.via.array.ptr[4].as&lt;</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">&gt;();</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>obj_shader_list<sp/>=<sp/>obj_w.via.array.ptr[3];</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_cnt<sp/>=<sp/>obj_shader_list.via.array.size;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>ix<sp/>=<sp/>0;<sp/>ix<sp/>&lt;<sp/>shd_cnt;<sp/>ix++)</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_unit<sp/>=<sp/>obj_shader_list.via.array.ptr[ix];</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_name<sp/>=<sp/>shd_unit.via.array.ptr[0];</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>str_shd_nm_sz<sp/>=<sp/>shd_name.via.str.size;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pshd_name<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[str_shd_nm_sz<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(pshd_name,<sp/>0,<sp/>str_shd_nm_sz<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pshd_name,<sp/>shd_name.via.str.ptr,<sp/>str_shd_nm_sz);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_vs_code<sp/>=<sp/>shd_unit.via.array.ptr[1];</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>str_vs_code_sz<sp/>=<sp/>shd_vs_code.via.str.size;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>psd_vs_code<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[str_vs_code_sz<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(psd_vs_code,<sp/>0,<sp/>str_vs_code_sz<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(psd_vs_code,<sp/>shd_vs_code.via.str.ptr,<sp/>str_vs_code_sz);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_fs_code<sp/>=<sp/>shd_unit.via.array.ptr[2];</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>str_fs_code_sz<sp/>=<sp/>shd_fs_code.via.str.size;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>psd_fs_code<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[str_fs_code_sz<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(psd_fs_code,<sp/>0,<sp/>str_fs_code_sz<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(psd_fs_code,<sp/>shd_fs_code.via.str.ptr,<sp/>str_fs_code_sz);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="af__shader_8cpp_1af0ab9139334e7f9f0886c7af66dd1d7c" kindref="member">g_af_shader_list</ref>[pshd_name]<sp/>=<sp/>make_shared&lt;af_shader&gt;(psd_vs_code,<sp/>psd_fs_code);</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>pshd_name;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>psd_vs_code;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>psd_fs_code;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>obj_material_list<sp/>=<sp/>obj_w.via.array.ptr[4];</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>mtl_cnt<sp/>=<sp/>obj_material_list.via.array.size;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>ix<sp/>=<sp/>0;<sp/>ix<sp/>&lt;<sp/>mtl_cnt;<sp/>ix++)</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>mtl_unit<sp/>=<sp/>obj_material_list.via.array.ptr[ix];</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>mtl_name<sp/>=<sp/>mtl_unit.via.array.ptr[0];</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>mtl_name_size<sp/>=<sp/>mtl_name.via.str.size;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pstr_mtl_name<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[mtl_name_size<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(pstr_mtl_name,<sp/>0,<sp/>mtl_name_size<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pstr_mtl_name,<sp/>mtl_name.via.str.ptr,<sp/>mtl_name_size);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shared_ptr&lt;material&gt;<sp/>pmtl<sp/>=<sp/>make_shared&lt;material&gt;();</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="material_8cpp_1a7ec3a5ea4800c713f34193465d7d5630" kindref="member">g_material_list</ref>[pstr_mtl_name]<sp/>=<sp/>pmtl;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_name<sp/>=<sp/>mtl_unit.via.array.ptr[1];</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_name_size<sp/>=<sp/>shd_name.via.str.size;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pstr_shd_name<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[shd_name_size<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(pstr_shd_name,<sp/>0,<sp/>shd_name_size+1);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pstr_shd_name,<sp/>shd_name.via.str.ptr,<sp/>shd_name_size);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>pshd<sp/>=<sp/><ref refid="af__shader_8cpp_1af0ab9139334e7f9f0886c7af66dd1d7c" kindref="member">g_af_shader_list</ref>.find(pstr_shd_name);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pshd<sp/>!=<sp/><ref refid="af__shader_8cpp_1af0ab9139334e7f9f0886c7af66dd1d7c" kindref="member">g_af_shader_list</ref>.end())</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pmtl-&gt;set_pshader(pshd-&gt;second);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal">&amp;<sp/>mpshd_uf<sp/>=<sp/>pmtl-&gt;get_mp_sd_uf();</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_list<sp/>=<sp/>mtl_unit.via.array.ptr[2];</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_list_cnt<sp/>=<sp/>shd_uf_list.via.array.size;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>iy<sp/>=<sp/>0;<sp/>iy<sp/>&lt;<sp/>shd_uf_list_cnt;<sp/>iy++)</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_unit<sp/>=<sp/>shd_uf_list.via.array.ptr[iy];</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_name<sp/>=<sp/>shd_uf_unit.via.array.ptr[0];</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_name_sz<sp/>=<sp/>shd_uf_name.via.str.size;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pshd_uf_name<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[shd_uf_name_sz<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(pshd_uf_name,<sp/>0,<sp/>shd_uf_name_sz<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pshd_uf_name,<sp/>shd_uf_name.via.str.ptr,<sp/>shd_uf_name_sz);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_type=shd_uf_unit.via.array.ptr[1];</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_type_sz<sp/>=<sp/>shd_uf_type.via.str.size;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>pshd_uf_type<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[shd_uf_type_sz<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memset(pshd_uf_type,<sp/>0,<sp/>shd_uf_type_sz<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pshd_uf_type,<sp/>shd_uf_type.via.str.ptr,<sp/>shd_uf_type_sz);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_usize=shd_uf_unit.via.array.ptr[2];</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_el_size=shd_uf_unit.via.array.ptr[3];</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_uf_utype=shd_uf_unit.via.array.ptr[4];</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shared_ptr&lt;shader_uf&gt;<sp/>pnunf<sp/>=<sp/>std::move(<ref refid="shader__uf_8cpp_1abdb2e2e86c7014c253b2967a3d864390" kindref="member">get_shader_uf_fc</ref>().Create(pshd_uf_type,<sp/>shd_uf_usize.as&lt;GLuint&gt;(),<sp/>shd_uf_el_size.as&lt;GLuint&gt;()));</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pnunf-&gt;set_type(shd_uf_utype.as&lt;GLenum&gt;());</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>shd_data<sp/>=<sp/>shd_uf_unit.via.array.ptr[5];</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>wsize<sp/>=<sp/>shd_uf_usize.as&lt;GLuint&gt;()*shd_uf_el_size.as&lt;GLuint&gt;();</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pnunf-&gt;get_data_head(),<sp/>shd_data.via.bin.ptr,wsize);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mpshd_uf[pshd_uf_name]<sp/>=<sp/>pnunf;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>pshd_uf_name;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>pshd_uf_type;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]<sp/>pstr_mtl_name;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>obj_ui<sp/>=<sp/>obj_w.via.array.ptr[5];</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="afb__load_8cpp_1a7299469a1b56dc074ed84b6c888e01ad" kindref="member">init_ui_component_by_mgo</ref>(<ref refid="classafb__load_1ad5a32b4f88baa5fad057d6017191d4ce" kindref="member">_pj</ref>,<sp/>obj_ui);</highlight></codeline>
<codeline lineno="194"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="G:/GitHub/my_imgui/my_imgui/examples/auto_future_graphics_design/afb_load.cpp"/>
  </compounddef>
</doxygen>
